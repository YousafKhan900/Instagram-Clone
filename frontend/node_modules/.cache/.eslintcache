[{"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/index.js":"1","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/App.js":"2","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/AlertDismissible.js":"3","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/Profile.js":"4","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/AllPosts.js":"5","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/Login.js":"6","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/Search.js":"7","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/SignUp.js":"8","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/CreatePost.js":"9","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/ProfileItem.js":"10","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/EditProfile.js":"11"},{"size":283,"mtime":1654042867145,"results":"12","hashOfConfig":"13"},{"size":3156,"mtime":1654346749593,"results":"14","hashOfConfig":"13"},{"size":459,"mtime":1654082741536,"results":"15","hashOfConfig":"13"},{"size":4807,"mtime":1654388846679,"results":"16","hashOfConfig":"13"},{"size":1659,"mtime":1654182525487,"results":"17","hashOfConfig":"13"},{"size":1420,"mtime":1654089245839,"results":"18","hashOfConfig":"13"},{"size":1460,"mtime":1654254457114,"results":"19","hashOfConfig":"13"},{"size":2081,"mtime":1654084426019,"results":"20","hashOfConfig":"13"},{"size":2001,"mtime":1654122485163,"results":"21","hashOfConfig":"13"},{"size":1292,"mtime":1654254709011,"results":"22","hashOfConfig":"13"},{"size":3032,"mtime":1654387662031,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"hix5sf",{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"27"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"31"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"63"},"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/index.js",[],[],[],"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/App.js",[],[],[],"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/AlertDismissible.js",[],[],"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/Profile.js",["64","65","66","67"],[],"import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport EditProfile from \"./EditProfile\";\nimport \"../css/Profile.css\";\n\nexport default function Profile({ user, setAlert }) {\n  const [profileData, setProfileData] = useState({});\n  const [posts, setPosts] = useState({});\n  const [following, setFollowing] = useState(false);\n  const [owner, setOwner] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const params = useParams();\n\n  useEffect(() => {\n    updateProfile(params.username);\n  }, [params.username, user]);\n\n  function updateFollowing(profile) {\n    for (let follower of profile.followers) {\n      if (follower.username === user) {\n        setFollowing(true);\n        return;\n      }\n    }\n    setFollowing(false);\n  }\n\n  function updateProfile(username) {\n    fetch(\"/getProfile?user=\" + username)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.length === 0) {\n          setAlert({\n            variant: \"danger\",\n            message: \"Profile does not exist.\",\n          });\n          return;\n        }\n        fetch(\"/getPosts?user=\" + username)\n          .then((res) => res.json())\n          .then((posts) => {\n            setProfileData(data[0]);\n            setPosts(posts);\n            updateFollowing(data[0]);\n            setOwner(user === data[0].username);\n          });\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function followClick() {\n    if (owner) return;\n\n    if (!following) {\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ user: user, id: profileData._id }),\n      };\n      fetch(\"/addFollower\", requestOptions)\n        .then((res) => res.json())\n        .then((_data) => updateProfile(params.username));\n    } else {\n      const requestOptions = {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ user: user, id: profileData._id }),\n      };\n      fetch(\"/removeFollower\", requestOptions)\n        .then((res) => res.json())\n        .then((_data) => updateProfile(params.username));\n    }\n  }\n\n  function hideEditCallback() {\n    updateProfile(params.username);\n    setEditing(false);\n  }\n\n  if (profileData == {}) return null;\n\n  return (\n    <div className=\"profile\">\n      <EditProfile\n        user={user}\n        show={editing}\n        hideCallback={hideEditCallback}\n        profileData={profileData}\n        setAlert={setAlert}\n      />\n      <div className=\"profile-banner\">\n        <h4>@{profileData.username}</h4>\n        <div className=\"profile-data\">\n          <img\n            src={\n              profileData.photo\n                ? profileData.photo.asset.url\n                : \"https://via.placeholder.com/80\"\n            }\n            id=\"profile-img\"\n          />\n          <div className=\"vertical-data\">\n            <p>\n              <strong>Posts</strong>\n            </p>\n            <h4>{posts ? posts.length : 0}</h4>\n          </div>\n          <div className=\"vertical-data\">\n            <p>\n              <strong>Followers</strong>\n            </p>\n            <h4>{profileData.followers ? profileData.followers.length : 0}</h4>\n          </div>\n          <div className=\"vertical-data\">\n            <p>\n              <strong>Following</strong>\n            </p>\n            <h4>{profileData.following ? profileData.following : 0}</h4>\n          </div>\n          <div className=\"follow-button\">\n            {user && !owner ? (\n              <Button\n                variant={following ? \"danger\" : \"success\"}\n                onClick={followClick}\n              >\n                {following ? \"Unfollow\" : \"Follow\"}\n              </Button>\n            ) : null}\n            {user && owner ? (\n              <Button variant=\"primary\" onClick={() => setEditing(true)}>\n                Edit\n              </Button>\n            ) : null}\n          </div>\n        </div>\n        <div className=\"profile-bio\">\n          <div className=\"profile-name\">\n            <strong>\n              {(profileData.first_name ? profileData.first_name : \"\") +\n                \" \" +\n                (profileData.last_name ? profileData.last_name : \"\")}\n            </strong>\n          </div>\n          <div className=\"profile-text\">{profileData.bio}</div>\n        </div>\n      </div>\n      <div className=\"break\"></div>\n      <div className=\"profile-posts-wrapper\">\n        <div className=\"profile-posts\">\n          {posts && posts.length > 0\n            ? posts.map((post, idx) => {\n                return <img src={post.photo.asset.url} key={idx} />;\n              })\n            : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/AllPosts.js",[],[],"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/Login.js",["68"],[],"import React from \"react\";\nimport { useState } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nexport default function Login({ setAlert, setUser }) {\n  const [username, setUsername] = useState(\"\");\n  const navigate = useNavigate();\n\n  function handleLogin(e) {\n    fetch(\"/getProfile?user=\" + username)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.length > 0) {\n          setAlert({ variant: \"success\", message: \"Successfully logged in!\" });\n          setUser(data[0].username);\n          navigate(\"/\");\n        } else {\n          setAlert({\n            variant: \"danger\",\n            message: \"No user with that name exists!\",\n          });\n        }\n      })\n      .catch((err) => setAlert({ variant: \"danger\", message: err.message }));\n  }\n\n  return (\n    <Form className=\"center-form\">\n      <Form.Group className=\"mb-3\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Username\"\n          onInput={(e) => {\n            setUsername(e.target.value);\n          }}\n        />\n        <small className=\"form-text text-muted\">\n          Don't have an acoount? Sign up <Link to=\"/sign-up\">here</Link>\n        </small>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"button\" onClick={handleLogin}>\n        Login\n      </Button>\n    </Form>\n  );\n}\n","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/Search.js",[],[],"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/SignUp.js",[],[],"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/CreatePost.js",["69","70"],[],"/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/ProfileItem.js",["71"],[],"import React from \"react\";\nimport { Button, ListGroup } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function ProfileItem({\n  username,\n  first_name,\n  last_name,\n  photo,\n  followers,\n}) {\n  const navigate = useNavigate();\n\n  return (\n    <ListGroup.Item>\n      <div className=\"d-flex align-items-center justify-content-between\">\n        <div className=\"d-flex align-items-center\">\n          <img\n            src={photo ? photo.asset.url : \"https://via.placeholder.com/80\"}\n            style={{ width: \"80px\" }}\n          />\n          <div>\n            <p className=\"px-2 m-0\">\n              <strong>{username}</strong>\n            </p>\n            <p className=\"px-2 m-0\">\n              {(first_name ? first_name : \"\") +\n                \" \" +\n                (last_name ? last_name : \"\")}\n            </p>\n          </div>\n        </div>\n        <div className=\"d-flex flex-column align-items-center\">\n          <p className=\"px-2\">\n            <strong>{followers} Followers</strong>\n          </p>\n          <Button\n            varinat=\"success\"\n            className=\"px-2 m-0\"\n            onClick={() => navigate(\"/profile/\" + username)}\n          >\n            View\n          </Button>\n        </div>\n      </div>\n    </ListGroup.Item>\n  );\n}\n","/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/EditProfile.js",["72","73"],[],"import { useState, useEffect } from \"react\";\nimport { Button, Form, Modal } from \"react-bootstrap\";\n\nexport default function EditProfile({\n  show,\n  hideCallback,\n  user,\n  setAlert,\n  profileData,\n}) {\n  const [bio, setBio] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n\n  useEffect(() => {\n    setFirstName(profileData.first_name);\n    setLastName(profileData.last_name);\n    setBio(profileData.bio);\n  }, [profileData]);\n\n  function updateProfile() {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"user\", user);\n    formData.append(\"first_name\", firstName);\n    formData.append(\"last_name\", lastName);\n    formData.append(\"bio\", bio);\n    const requestOptions = {\n      method: \"POST\",\n      body: formData,\n    };\n    fetch(\"/updateProfile\", requestOptions)\n      .then((res) => res.json())\n      .then((data) => {\n        setAlert({\n          variant: \"success\",\n          message: \"Profile updated successfully.\",\n        });\n        hideCallback();\n      })\n      .catch((err) => {\n        setAlert({ variant: \"danger\", message: err.message });\n        hideCallback();\n      });\n  }\n\n  return (\n    <Modal show={show} onHide={hideCallback}>\n      <Modal.Header closeButton>\n        <Modal.Title>Edit Profile</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Form>\n          <Form.Group className=\"mb-3\">\n            {profileData.photo && !file ? (\n              <img src={profileData.photo.asset.url} className=\"upload-image\" />\n            ) : (\n              <img\n                src={file ? URL.createObjectURL(file) : null}\n                className=\"upload-image\"\n              />\n            )}\n          </Form.Group>\n          <Form.Group className=\"mb-3\">\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={(e) => setFile(e.target.files[0])}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"First Name\"\n              defaultValue={profileData.first_name}\n              onInput={(e) => setFirstName(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Last Name\"\n              defaultValue={profileData.last_name}\n              onInput={(e) => setLastName(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Bio\"\n              defaultValue={profileData.bio}\n              onInput={(e) => setBio(e.target.value)}\n            />\n          </Form.Group>\n          <div>\n            <Button variant=\"primary\" onClick={updateProfile}>\n              Submit\n            </Button>\n          </div>\n        </Form>\n      </Modal.Body>\n    </Modal>\n  );\n}\n",[],{"ruleId":"74","severity":1,"message":"75","line":17,"column":6,"nodeType":"76","endLine":17,"endColumn":29,"suggestions":"77"},{"ruleId":"78","severity":1,"message":"79","line":85,"column":19,"nodeType":"80","messageId":"81","endLine":85,"endColumn":21},{"ruleId":"82","severity":1,"message":"83","line":99,"column":11,"nodeType":"84","endLine":106,"endColumn":13},{"ruleId":"82","severity":1,"message":"83","line":157,"column":24,"nodeType":"84","endLine":157,"endColumn":68},{"ruleId":"85","severity":1,"message":"86","line":3,"column":24,"nodeType":"87","messageId":"88","endLine":3,"endColumn":29},{"ruleId":"74","severity":1,"message":"89","line":19,"column":6,"nodeType":"76","endLine":19,"endColumn":12,"suggestions":"90"},{"ruleId":"82","severity":1,"message":"83","line":46,"column":11,"nodeType":"84","endLine":49,"endColumn":13},{"ruleId":"82","severity":1,"message":"83","line":18,"column":11,"nodeType":"84","endLine":21,"endColumn":13},{"ruleId":"82","severity":1,"message":"83","line":57,"column":15,"nodeType":"84","endLine":57,"endColumn":81},{"ruleId":"82","severity":1,"message":"83","line":59,"column":15,"nodeType":"84","endLine":62,"endColumn":17},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateProfile'. Either include it or remove the dependency array.","ArrayExpression",["91"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-unused-vars","'Alert' is defined but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'navigate' and 'setAlert'. Either include them or remove the dependency array. If 'setAlert' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["92"],{"desc":"93","fix":"94"},{"desc":"95","fix":"96"},"Update the dependencies array to be: [params.username, updateProfile, user]",{"range":"97","text":"98"},"Update the dependencies array to be: [navigate, setAlert, user]",{"range":"99","text":"100"},[593,616],"[params.username, updateProfile, user]",[531,537],"[navigate, setAlert, user]"]