{"ast":null,"code":"// import { useState, useEffect } from \"react\";\n// import { Button, Form } from \"react-bootstrap\";\n// import { useNavigate } from \"react-router-dom\";\n// import \"../css/CreatePost.css\";\n// export default function CreatePost({ user, setAlert }) {\n//   const [caption, setCaption] = useState(\"\");\n//   const [file, setFile] = useState(\"\");\n//   const navigate = useNavigate();\n//   useEffect(() => {\n//     if (!user) {\n//       setAlert({\n//         variant: \"danger\",\n//         message: \"Please sign in to make a post!\",\n//       });\n//       navigate(\"/login\");\n//     }\n//   }, [user]);\n//   function uploadFile(e) {\n//     setFile(e.target.files[0]);\n//   }\n//   function makePost(e) {\n//     const formData = new FormData();\n//     formData.append(\"user\", user);\n//     formData.append(\"caption\", caption);\n//     formData.append(\"file\", file);\n//     const requestOptions = {\n//       method: \"Post\",\n//       data: formData,\n//     };\n//     fetch(\"/createPost\", requestOptions)\n//       .then((_res) => {\n//         setAlert({ variant: \"success\", message: \"Post creaeted!\" });\n//         navigate(\"/\");\n//       })\n//       .catch((err) => setAlert({ variant: \"danger\", message: err.message }));\n//   }\n//   return (\n//     <Form className=\"post-form\">\n//       <div className=\"create-post\">\n//         <Form.Group className=\"mb-3\">\n//           <img\n//             src={file ? URL.createObjectURL(file) : null}\n//             className=\"post-image\"\n//           />\n//         </Form.Group>\n//         <Form.Group className=\"mb-3\">\n//           <input type=\"file\" accept=\"image/*\" onChange={uploadFile} />\n//         </Form.Group>\n//         <Form.Group className=\"mb-3\">\n//           <Form.Control\n//             type=\"text\"\n//             placeholder=\"Enter a Caption!\"\n//             onInput={(e) => setCaption(e.target.value)}\n//           />\n//         </Form.Group>\n//         <div className=\"post-button-wrapper\">\n//           <Button\n//             variant=\"primary\"\n//             type=\"button\"\n//             onClick={makePost}\n//             className=\"post-button\"\n//           >\n//             Post\n//           </Button>\n//         </div>\n//       </div>\n//     </Form>\n//   );\n// }","map":{"version":3,"names":[],"sources":["/Users/yk_xyz/Desktop/react-projects/Instagram_Clone/frontend/src/components/CreatePost.js"],"sourcesContent":["// import { useState, useEffect } from \"react\";\n// import { Button, Form } from \"react-bootstrap\";\n// import { useNavigate } from \"react-router-dom\";\n// import \"../css/CreatePost.css\";\n\n// export default function CreatePost({ user, setAlert }) {\n//   const [caption, setCaption] = useState(\"\");\n//   const [file, setFile] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   useEffect(() => {\n//     if (!user) {\n//       setAlert({\n//         variant: \"danger\",\n//         message: \"Please sign in to make a post!\",\n//       });\n//       navigate(\"/login\");\n//     }\n//   }, [user]);\n\n//   function uploadFile(e) {\n//     setFile(e.target.files[0]);\n//   }\n\n//   function makePost(e) {\n//     const formData = new FormData();\n//     formData.append(\"user\", user);\n//     formData.append(\"caption\", caption);\n//     formData.append(\"file\", file);\n//     const requestOptions = {\n//       method: \"Post\",\n//       data: formData,\n//     };\n//     fetch(\"/createPost\", requestOptions)\n//       .then((_res) => {\n//         setAlert({ variant: \"success\", message: \"Post creaeted!\" });\n//         navigate(\"/\");\n//       })\n//       .catch((err) => setAlert({ variant: \"danger\", message: err.message }));\n//   }\n\n//   return (\n//     <Form className=\"post-form\">\n//       <div className=\"create-post\">\n//         <Form.Group className=\"mb-3\">\n//           <img\n//             src={file ? URL.createObjectURL(file) : null}\n//             className=\"post-image\"\n//           />\n//         </Form.Group>\n//         <Form.Group className=\"mb-3\">\n//           <input type=\"file\" accept=\"image/*\" onChange={uploadFile} />\n//         </Form.Group>\n//         <Form.Group className=\"mb-3\">\n//           <Form.Control\n//             type=\"text\"\n//             placeholder=\"Enter a Caption!\"\n//             onInput={(e) => setCaption(e.target.value)}\n//           />\n//         </Form.Group>\n//         <div className=\"post-button-wrapper\">\n//           <Button\n//             variant=\"primary\"\n//             type=\"button\"\n//             onClick={makePost}\n//             className=\"post-button\"\n//           >\n//             Post\n//           </Button>\n//         </div>\n//       </div>\n//     </Form>\n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}